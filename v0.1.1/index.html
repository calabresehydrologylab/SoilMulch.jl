<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · SoilMulch</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><script src="../copy.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>SoilMulch</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Model-description"><span>Model description</span></a></li><li class="toplevel"><a class="tocitem" href="#Package-structure"><span>Package structure</span></a></li><li><a class="tocitem" href="#Rainfall-simulation"><span>Rainfall simulation</span></a></li><li><a class="tocitem" href="#Soil-mulching-water-balance"><span>Soil mulching water balance</span></a></li><li class="toplevel"><a class="tocitem" href="#Example"><span>Example</span></a></li><li class="toplevel"><a class="tocitem" href="#Authorship"><span>Authorship</span></a></li><li class="toplevel"><a class="tocitem" href="#License"><span>License</span></a></li><li class="toplevel"><a class="tocitem" href="#References"><span>References</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/calabresehydrologylab/SoilMulch.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="SoilMulch.jl"><a class="docs-heading-anchor" href="#SoilMulch.jl">SoilMulch.jl</a><a id="SoilMulch.jl-1"></a><a class="docs-heading-anchor-permalink" href="#SoilMulch.jl" title="Permalink"></a></h1><p>Documentation for SoilMulch.jl</p><h1 id="Model-description"><a class="docs-heading-anchor" href="#Model-description">Model description</a><a id="Model-description-1"></a><a class="docs-heading-anchor-permalink" href="#Model-description" title="Permalink"></a></h1><p>The <strong>SoilMulch</strong> is a model that simulates the coupled water balance and crop growth under no mulching and mulching managements.</p><p><img src="soilmulchschema.png" alt="Soil water balance schema under mulching and no mulching conditions."/></p><p>When a mulching layer is added, the model computes the water balance considering two layers, whereas the mulching layer is treated similarly as coarse soil.</p><p>Under mulching conditions, the water balance is the difference between the inputs and outputs of water into the mulching and soil layers, respectively as:</p><p class="math-container">\[\phi Z_m \frac{d\vartheta}{dt} = R(t) - C_I(R,C) - Q(\vartheta, R) - L_m(\vartheta) - E_m(\vartheta)\]</p><p class="math-container">\[n Z_r \frac{ds}{dt} = L_m(\vartheta) - T(s,C) - E(s,\vartheta) - L(s)\]</p><p>where <span>$\phi$</span> and <span>$Z_m$</span> are the mulching layer porosity and thickness, respectively, <span>$\vartheta$</span> is the mulching moisture (<span>$0\leq\vartheta\leq1$</span>), <span>$R$</span> is the rainfall rate, <span>$C_I$</span> is the rainfall interception by the canopy, <span>$Q$</span> is the runoff (here considered as the surplus of water with respect to mulching water storage capacity, <span>$\phi Z_m$</span>), <span>$L_m$</span> is the leakage from the mulching layer that infiltrates the soil underneath, and <span>$E_m$</span> is the evaporation from the mulching layer, <span>$s(t)$</span> is the relative soil water content at time <span>$t$</span> (<span>$0 \leq s(t) \leq 1$</span>) averaged over the rooting depth, equal to the soil volumetric water content over the soil porosity. The soil loses water by evaporation <span>$E$</span>, plant transpiration <span>$T$</span>, and leakage <span>$L$</span>.</p><p>For more details about the models and considerations, please read our paper: <a href="https://doi.org/10.1016/j.jhydrol.2022.127523">Souza et al. (2022)</a>.</p><h1 id="Package-structure"><a class="docs-heading-anchor" href="#Package-structure">Package structure</a><a id="Package-structure-1"></a><a class="docs-heading-anchor-permalink" href="#Package-structure" title="Permalink"></a></h1><p><strong>SoilMulch</strong> contains all the functions to simulate the water balance and crop growth (as crop fraction), based on the parameters provided. For the inputs, it is necessary rainfall and reference evapotranspiration (<span>$ET_0$</span>). Optionally, the rainfall can be generated stochastically using a marked Poisson process.</p><h2 id="Rainfall-simulation"><a class="docs-heading-anchor" href="#Rainfall-simulation">Rainfall simulation</a><a id="Rainfall-simulation-1"></a><a class="docs-heading-anchor-permalink" href="#Rainfall-simulation" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SoilMulch.rainfall_poisson" href="#SoilMulch.rainfall_poisson"><code>SoilMulch.rainfall_poisson</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>rainfall_poisson(n, α, λ)</code></p><p>Generates rainfall using Poisson process.</p><p><strong>Arguments</strong></p><ul><li><code>n::Integer</code>: number of events.</li><li><code>α::Float64</code>: mean rain depth.</li><li><code>λ::Float64</code>: rain event interval (1/d).</li></ul><p>If rainfall needs to be similated in timescale smaller than daily, multiply <code>λ</code> by dt.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">n = 30
α = 0.75
λ = 0.45
rain = rainfall_poisson(n, α, λ)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/calabresehydrologylab/SoilMulch.jl/blob/e80db0f74529c0f22e4b89378c3aa8311e10a4ba/src/SoilMulch.jl#L19-L38">source</a></section></article><h2 id="Soil-mulching-water-balance"><a class="docs-heading-anchor" href="#Soil-mulching-water-balance">Soil mulching water balance</a><a id="Soil-mulching-water-balance-1"></a><a class="docs-heading-anchor-permalink" href="#Soil-mulching-water-balance" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SoilMulch.soil_mulch_water_balance" href="#SoilMulch.soil_mulch_water_balance"><code>SoilMulch.soil_mulch_water_balance</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>soil_mulch_water_balance(rain, eto, cf, ϑ, s, sh, sw, sstar, ks, β, n, zr, cws,                           ce, ct, μ, ϕ, zm, ϑh, km, g, dt)</code></p><p>Computes the mulching and soil water balance.</p><p><strong>Arguments</strong></p><ul><li><code>rain::Float64</code>: rainfall.</li><li><code>eto::Float64</code>: reference evapotranspiration.</li><li><code>cf::Float64</code>: crop cover fraction.</li><li><code>ϑ::Float64</code>: mulching moisture.</li><li><code>s::Float64</code>: soil moisture.</li><li><code>sh::Float64</code>: soil moisture at wilting point.</li><li><code>sw::Float64</code>: soil moisture at wilting point.</li><li><code>sstar::Float64</code>: soil moisture below the field capacity.</li><li><code>ks::Float64</code>: saturated hydraulic conductivity.</li><li><code>β::Float64</code>: exponent of hydraulic conductivity curve.</li><li><code>n::Float64</code>: soil porosity.</li><li><code>zr::Float64</code>: root depth.</li><li><code>cws::Float64</code>: canopy water storage capacity.</li><li><code>ce::Float64</code>: baseline evaporation coefficient.</li><li><code>ct::Float64</code>: baseline transpiration factor.</li><li><code>ϕ::Float64</code>: mulching porosity.</li><li><code>ϑh::Float64</code>: threshold that stops mulch leakage and evaporation.</li><li><code>km::Float64</code>: mulching percolation rate.</li><li><code>g::Float64</code>: exponent of mulching percolation.</li><li><code>dt::Float64</code>: time interval.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/calabresehydrologylab/SoilMulch.jl/blob/e80db0f74529c0f22e4b89378c3aa8311e10a4ba/src/SoilMulch.jl#L310-L337">source</a></section></article><p>In order to keep the model parametrization simple, the functions that solve the water balance and crop growth receives the rainfall, <span>$ET_0$</span> data, the initial conditions and a named tuple with all the remaining parameters.</p><article class="docstring"><header><a class="docstring-binding" id="SoilMulch.sol_mswb_crop" href="#SoilMulch.sol_mswb_crop"><code>SoilMulch.sol_mswb_crop</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>sol_mswb_crop(rain, eto, cf, ϑ, s, p)</code></p><p>Solves the mulchg and soil water balance coupled with the crop cover fraction.</p><p><strong>Arguments</strong></p><ul><li><code>p::NamedTuple</code>: p is a named tuple with the parameters mostly considered as</li></ul><p>constant.</p><p>For the parameters descriptions, please check the help of <code>soil_mulch_water_balance</code> function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/calabresehydrologylab/SoilMulch.jl/blob/e80db0f74529c0f22e4b89378c3aa8311e10a4ba/src/SoilMulch.jl#L734-L746">source</a></section></article><h1 id="Example"><a class="docs-heading-anchor" href="#Example">Example</a><a id="Example-1"></a><a class="docs-heading-anchor-permalink" href="#Example" title="Permalink"></a></h1><pre><code class="language-julia hljs"># Load packages
using Plots
using SoilMulch</code></pre><pre><code class="language-julia hljs"># Parameters
pr = (sh = 0.15,       # soil moisture at hygroscopic point [-]
      sw = 0.25,       # soil moisture at wilting point [-]
      sstar = 0.55,    # Soil moisture below field capacity [-]
      ks = 160,        # saturated hydraulic conductivity [cm/day]
      β = 16.0,        # exponent of hydraulic conductivity curve [-]
      n = 0.50,        # soil porosity [-]
      zr = 30,         # root depth [cm]
      cws = 0.20,      # canopy water storage capacity [cm]
      ce = 1.0,        # baseline evaporation coefficient [-]
      ct = 1.0,        # baseline transpiration factor [-]
      μ = 0.11,        # factor of mulching evaporation resistance [-]
      ϕ = 0.60,        # mulching porosity [-]
      zm = 5.00,       # mulching layer thickness [cm]
      ϑh = 0.05,       # threshold that stops mulch leakage and evaporation [-]
      km = 230,        # mulching percolation rate [cm/day]
      g = 6.50,        # exponent of mulching percolation [-]
      tsen = 90,       # senescence time [day]
      γ = 0.005,       # slope of increase senescence after tsen [-]
      cmax = 0.98,     # maximum crop cover fraction [-]
      r = 0.39,        # parameter of cover fraction model [-]
      dt = 1/288       # time interval to solve the models [day]
    );</code></pre><pre><code class="language-julia hljs"># Initial conditions
s = 0.35;              # soil moisture
ϑ = 0.50;              # mulching layer moisture
eto = 0.50;            # reference evapotranspiration (constant over time)
cf = 0.10;             # initial crop cover fraction</code></pre><pre><code class="language-julia hljs"># Generate a rainfall series for 120 days
rain = rainfall_poisson(120*1/pr.dt, 0.5, 0.40*pr.dt);</code></pre><pre><code class="language-julia hljs"># Simulations

# No mulch
swb = sol_swb_crop(rain, eto, cf, s, pr);

# Mulch
mswb = sol_mswb_crop(rain, eto, cf, ϑ, s, pr);</code></pre><pre><code class="language-julia hljs"># Integrate results to daily timescale
swb_day = df_dt_day(swb);
mswb_day = df_dt_day(mswb);</code></pre><pre><code class="language-julia hljs"># Plot results

gr(size=(700, 600))

p1 = bar(swb_day.Days, swb_day.Rain, ylab = &quot;Rain&quot;)

p2 = plot(swb.DaysC, swb.s, ylab = &quot;Soil moisture&quot;, label = &quot;No Mulch&quot;)
p2 = plot!(mswb.DaysC, mswb.s, label = &quot;Mulch&quot;)

p3 = plot(swb.DaysC, swb.CF, ylab = &quot;Crop fraction&quot;, xlab = &quot;Time (d)&quot;, label = &quot;No Mulch&quot;)
p3 = plot!(mswb.DaysC, mswb.CF, label = &quot;Mulch&quot;)

plot(p1, p2, p3, layout = (3, 1))</code></pre><p><img src="output_7_0.svg" alt="svg"/></p><h1 id="Authorship"><a class="docs-heading-anchor" href="#Authorship">Authorship</a><a id="Authorship-1"></a><a class="docs-heading-anchor-permalink" href="#Authorship" title="Permalink"></a></h1><p>The <strong>SoilMulch</strong> model was created Rodolfo Souza, Achla Jha, and Salvatore Calabrese in the <a href="https://people.tamu.edu/~salvatore.calabrese/">Hydrology &amp; Ecosystem Sustenaibility Lab</a>, Department of Biological and Agricultural Engineering in Texas A&amp;M University.</p><h1 id="License"><a class="docs-heading-anchor" href="#License">License</a><a id="License-1"></a><a class="docs-heading-anchor-permalink" href="#License" title="Permalink"></a></h1><p>Copyright (c) 2022 Rodolfo Souza, Achla Jha, Salvatore Calabrese</p><p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the &quot;Software&quot;), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p><p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p><p>THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p><h1 id="References"><a class="docs-heading-anchor" href="#References">References</a><a id="References-1"></a><a class="docs-heading-anchor-permalink" href="#References" title="Permalink"></a></h1><p>Souza, R., Jha, A., Calabrese, S., 2022. Quantifying the ecohydrological impact of soil mulching across rainfall regimes and mulching layer thickness. Journal of Hydrology. doi:<a href="https://doi.org/10.1016/j.jhydrol.2022.127523">10.1016/j.jhydrol.2022.127523</a>.</p><p>Laio, F., Porporato, A., Ridolfi, L., Rodriguez-Iturbe, I., 2001. Plants in water- controlled ecosystems: active role in hydrologic processes and response to water stress: II. probabilistic soil moisture dynamics. Advances in Water Resources 24, 707–723. doi:<a href="https://doi.org/10.1016/10.1016/s0309-1708(01)00005-7">10.1016/s0309-1708(01)00005-7</a>.</p><p>Pelak, N., Revelli, R., Porporato, A., 2017. A dynamical systems frame- work for crop models: Toward optimal fertilization and irrigation strate- gies under climatic variability. Ecological Modelling 365, 80–92. doi:<a href="https://doi.org/10.1016/j.ecolmodel.2017.10.003">10.1016/j.ecolmodel.2017.10.003</a>.</p><p>Steduto, P., Hsiao, T.C., Raes, D., Fereres, E., 2009. AquaCrop-the FAO crop model to simulate yield response to water: I. concepts and underlying principles. Agronomy Journal 101, 426–437. doi:<a href="https://doi.org/10.1016/10.2134/agronj2008.0139s">10.2134/agronj2008.0139s</a>.</p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.12 on <span class="colophon-date" title="Thursday 10 February 2022 03:16">Thursday 10 February 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
